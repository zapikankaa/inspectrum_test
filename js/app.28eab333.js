(function(){"use strict";var e={5861:function(e,t,a){var r=a(9242),n=a(3396),s=a.p+"img/logo.b9420b52.svg";const l={class:"container"},d={class:"nav"},o=(0,n._)("div",{class:"nav__home"},[(0,n._)("img",{src:s})],-1),c={class:"main"};function i(e,t,a,r,s,i){const u=(0,n.up)("router-link"),_=(0,n.up)("page-header"),m=(0,n.up)("router-view");return(0,n.wg)(),(0,n.iD)("div",l,[(0,n._)("nav",d,[(0,n.Wm)(u,{to:"/"},{default:(0,n.w5)((()=>[o])),_:1})]),(0,n._)("main",c,[(0,n.Wm)(_,{class:"main__header"}),(0,n.Wm)(m)])])}var u=a(7139),_=a.p+"img/back.19073c4a.svg",m=a.p+"img/cart.63f2e6ea.svg";const p=e=>((0,n.dD)("data-v-ef1e2eb0"),e=e(),(0,n.Cn)(),e),h={class:"page-header"},v={class:"page-header__left"},g=p((()=>(0,n._)("img",{src:_,class:"page-header__back-btn"},null,-1))),b={class:"page-header__title"},w={class:"page-header__right"},f={class:"page-header__account account"},y=["src"],D={key:1,class:"account__userpic-placeholder"},C={class:"account__name"},k={class:"page-header__cart cart"},N=p((()=>(0,n._)("img",{src:m,class:"cart__icon",alt:""},null,-1))),M={key:0,class:"cart__counter"};function $(e,t,a,r,s,l){const d=(0,n.up)("router-link");return(0,n.wg)(),(0,n.iD)("header",h,[(0,n._)("div",v,[(0,n.Wm)(d,{to:"/"},{default:(0,n.w5)((()=>[g])),_:1}),(0,n._)("span",b,(0,u.zw)(this.$store.state.currentPageTitle),1)]),(0,n._)("div",w,[(0,n._)("div",f,[this.$store.state.account.userpic?((0,n.wg)(),(0,n.iD)("img",{key:0,src:this.$store.state.account.userpic,class:"account__userpic",alt:""},null,8,y)):((0,n.wg)(),(0,n.iD)("div",D,"Т")),(0,n._)("p",C,(0,u.zw)(this.$store.state.account.name),1)]),(0,n._)("div",k,[N,this.$store.state.account.cart.length>0?((0,n.wg)(),(0,n.iD)("p",M,(0,u.zw)(this.$store.state.account.cart.length),1)):(0,n.kq)("",!0)])])])}var z={name:"PageHeader"},E=a(89);const x=(0,E.Z)(z,[["render",$],["__scopeId","data-v-ef1e2eb0"]]);var O=x,I={components:{PageHeader:O}};const W=(0,E.Z)(I,[["render",i]]);var B=W,H=a(2483),T=a.p+"img/remove.554dbfde.svg",P=a.p+"img/dnd.da26a8d0.svg",j=a.p+"img/expand.b0e5607e.svg";const Y=e=>((0,n.dD)("data-v-5137764b"),e=e(),(0,n.Cn)(),e),R={class:"record"},S={class:"record__schedule schedule"},Z=Y((()=>(0,n._)("h1",{class:"schedule__title"},"Предварительный медицинский осмотр лиц, поступающих в учебные заведения гражданской авиации (ГА)",-1))),q={class:"schedule__nav"},F={class:"months-list"},U={class:"schedule__footer"},A={class:"records-num"},K={class:"records-num__item"},V=Y((()=>(0,n._)("div",{class:"records-num__title"},"Мест по договору",-1))),L={class:"records-num__number"},G={class:"records-num__item"},J=Y((()=>(0,n._)("div",{class:"records-num__title"},"Записанных",-1))),Q={class:"records-num__number records-num__number_blue"},X={class:"records-num__item"},ee=Y((()=>(0,n._)("div",{class:"records-num__title"},"Свободных",-1))),te={class:"records-num__number records-num__number_green"},ae={class:"schedule__buttons"},re=(0,n.Uk)("Записать"),ne={class:"record__employees employees"},se={class:"employees__buttons"},le=(0,n.Uk)("Добавить сотрудника"),de=Y((()=>(0,n._)("img",{src:T,alt:""},null,-1))),oe=Y((()=>(0,n._)("span",null,"Удалить всех",-1))),ce={class:"employees__heading"},ie={class:"employees__list list"},ue=Y((()=>(0,n._)("div",{class:"row list__heading"},[(0,n._)("div",{class:"row__left"},"ФИО"),(0,n._)("div",{class:"row__right"},"Дата записи")],-1))),_e=["onClick"],me={class:"row__left"},pe=Y((()=>(0,n._)("img",{src:P,alt:""},null,-1))),he={class:"amount"},ve=Y((()=>(0,n._)("div",{class:"row__right"},[(0,n._)("img",{src:j,class:"dept__icon",alt:""})],-1))),ge=["onDragstart"],be={class:"row__left"},we=Y((()=>(0,n._)("img",{src:P,alt:""},null,-1))),fe={class:"row__right"},ye=Y((()=>(0,n._)("img",{src:T,class:"dept__icon dept__icon_remove",alt:""},null,-1)));function De(e,t,a,s,l,d){const o=(0,n.up)("calendar-table"),c=(0,n.up)("button-base");return(0,n.wg)(),(0,n.iD)("div",R,[(0,n._)("section",S,[Z,(0,n._)("nav",q,[(0,n._)("ul",F,[(0,n._)("li",{class:(0,u.C_)(["months-list__item",{active:4===d.calendarMonth}]),onClick:t[0]||(t[0]=e=>d.calendarMonth=4)},"Май",2),(0,n._)("li",{class:(0,u.C_)(["months-list__item",{active:5===d.calendarMonth}]),onClick:t[1]||(t[1]=e=>d.calendarMonth=5)},"Июнь",2),(0,n._)("li",{class:(0,u.C_)(["months-list__item",{active:6===d.calendarMonth}]),onClick:t[2]||(t[2]=e=>d.calendarMonth=6)},"Июль",2),(0,n._)("li",{class:(0,u.C_)(["months-list__item",{active:7===d.calendarMonth}]),onClick:t[3]||(t[3]=e=>d.calendarMonth=7)},"Август",2),(0,n._)("li",{class:(0,u.C_)(["months-list__item",{active:8===d.calendarMonth}]),onClick:t[4]||(t[4]=e=>d.calendarMonth=8)},"Сентябрь",2),(0,n._)("li",{class:(0,u.C_)(["months-list__item",{active:9===d.calendarMonth}]),onClick:t[5]||(t[5]=e=>d.calendarMonth=9)},"Октябрь",2),(0,n._)("li",{class:(0,u.C_)(["months-list__item",{active:10===d.calendarMonth}]),onClick:t[6]||(t[6]=e=>d.calendarMonth=10)},"Ноябрь",2),(0,n._)("li",{class:(0,u.C_)(["months-list__item",{active:11===d.calendarMonth}]),onClick:t[7]||(t[7]=e=>d.calendarMonth=11)},"Декабрь",2)])]),(0,n.Wm)(o,{class:"schedule__calendar",year:this.$store.state.currentYear,month:d.calendarMonth},null,8,["year","month"]),(0,n._)("footer",U,[(0,n._)("div",A,[(0,n._)("div",K,[V,(0,n._)("div",L,(0,u.zw)(l.recordsByContract.busy+l.recordsByContract.available),1)]),(0,n._)("div",G,[J,(0,n._)("div",Q,(0,u.zw)(l.recordsByContract.busy),1)]),(0,n._)("div",X,[ee,(0,n._)("div",te,(0,u.zw)(l.recordsByContract.available),1)])]),(0,n._)("div",ae,[(0,n.Wm)(c,{"btn-style":"blue"},{default:(0,n.w5)((()=>[(0,n.Uk)("Распределить автоматически "+(0,u.zw)(l.autoCompleteAvailable),1)])),_:1}),(0,n.Wm)(c,{"btn-style":"red"},{default:(0,n.w5)((()=>[re])),_:1})])])]),(0,n._)("section",ne,[(0,n._)("div",se,[(0,n.Wm)(c,{class:"employees__add-btn","btn-style":"red"},{default:(0,n.w5)((()=>[le])),_:1}),(0,n.Wm)(c,{class:"employees__remove-btn","btn-style":"red-ghost"},{default:(0,n.w5)((()=>[de,oe])),_:1})]),(0,n._)("div",ce,[(0,n._)("h2",null,"Список сотрудников "+(0,u.zw)(d.employeesNum),1),(0,n._)("h3",null,"Записанных "+(0,u.zw)(d.recordedNum),1)]),(0,n._)("div",ie,[ue,((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(this.$store.getters.departments,(e=>((0,n.wg)(),(0,n.iD)("div",{key:e,class:"dept"},[(0,n._)("div",{class:"dept__header row",onClick:t=>l.departmentsExpanded[e[0].department]=!l.departmentsExpanded[e[0].department]},[(0,n._)("div",me,[pe,(0,n._)("span",null,(0,u.zw)(e[0].department),1),(0,n._)("span",he,(0,u.zw)(e.length),1)]),ve],8,_e),(0,n.wy)((0,n._)("div",null,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e,(e=>((0,n.wg)(),(0,n.iD)("div",{draggable:"true",onDragstart:t=>d.dragstartHandler(e.id),key:e.id,class:"row list__emp"},[(0,n._)("div",be,[we,(0,n._)("span",null,(0,u.zw)(e.name),1)]),(0,n._)("div",fe,[(0,n._)("span",null,(0,u.zw)(e.date?d.recDate(e.date):"--.--.----"),1),ye])],40,ge)))),128))],512),[[r.F8,l.departmentsExpanded[e[0].department]]])])))),128))])])])}const Ce={class:"calendar"},ke={class:"calendar__header"},Ne={class:"calendar__wrapper"},Me={class:"available__day"},$e={class:"available__num"};function ze(e,t,a,r,s,l){const d=(0,n.up)("calendar-view");return(0,n.wg)(),(0,n.iD)("div",Ce,[(0,n._)("div",ke,[(0,n._)("h2",null,(0,u.zw)(s.months[a.month]),1),(0,n._)("h3",null,"Свободных мест "+(0,u.zw)(s.free)+" из "+(0,u.zw)(s.all),1)]),(0,n._)("div",Ne,[(0,n.Wm)(d,{"enable-drag-drop":!0,dropzone:"true",onDrop:t[0]||(t[0]=e=>l.dropHandler(e)),"show-date":l.date,"starting-day-of-week":1,class:"theme-default"},{dayContent:(0,n.w5)((e=>[l.availableRecords[e.day]?((0,n.wg)(),(0,n.iD)("div",{key:0,class:(0,u.C_)(["available",{available_critical:l.availableRecords[e.day].isCritical}])},[(0,n._)("div",Me,(0,u.zw)(e.day.getDate()),1),(0,n._)("div",$e,(0,u.zw)(l.availableRecords[e.day].value),1)],2)):(0,n.kq)("",!0)])),_:1},8,["show-date"])])])}var Ee=a(8569),xe={name:"CalendarTable",components:{CalendarView:Ee.wr},props:{month:{type:Number,required:!0},year:{type:Number,required:!0}},data(){return{weekDays:["Пн","Вт","Ср","Чт","Пт","Сб","Вс"],months:["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],free:345,all:1e3}},computed:{date(){return new Date(this.year,this.month)},prevDate(){return 0===this.month?new Date(this.year-1,11):new Date(this.year,this.month-1)},nextDate(){return 11===this.month?new Date(this.year+1,0):new Date(this.year,this.month+1)},availableRecords(){const e=this.$store.state.records,t={};for(let a of e)t[a.date]={value:`${a.availableNum} из ${a.recordsNum}`,isCritical:a.availableNum/a.recordsNum<=.2};return t},draggingEmp(){return this.$store.state.draggingEmp}},methods:{dropHandler(e){e.target.classList.contains("available")&&this.recordEmp(e.target.firstChild.innerText)},recordEmp(e){this.$store.commit({type:"recordEmp",day:e})}}};const Oe=(0,E.Z)(xe,[["render",ze]]);var Ie=Oe;function We(e,t,a,r,s,l){return(0,n.wg)(),(0,n.iD)("div",{class:(0,u.C_)(["button",{button__red:"red"===a.btnStyle,"button__red-ghost":"red-ghost"===a.btnStyle,button__blue:"blue"===a.btnStyle}])},[(0,n.WI)(e.$slots,"default",{},void 0,!0)],2)}var Be={name:"ButtonBase",props:{btnStyle:{type:String,default:"red"}}};const He=(0,E.Z)(Be,[["render",We],["__scopeId","data-v-5136918e"]]);var Te=He,Pe={name:"RecordView",components:{CalendarTable:Ie,ButtonBase:Te},data(){return{departmentsExpanded:{},autoCompleteAvailable:32,recordsByContract:{busy:60,available:40}}},computed:{calendarMonth(){return this.$store.state.currentMonth},employeesNum(){return this.$store.state.employees.length},recordedNum(){let e=0;for(let t in this.$store.state.employees)t.date&&e++;return e},draggingEmp(){return this.$store.state.draggingEmp}},beforeMount(){for(let e in this.$store.getters.departments)this.departmentsExpanded[e]=!1},methods:{dragstartHandler(e){this.$store.commit({type:"setDraggingEmpId",empId:e})},recDate(e){return`${e.getDate()}.${e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()}.${e.getFullYear()}`}}};const je=(0,E.Z)(Pe,[["render",De],["__scopeId","data-v-5137764b"]]);var Ye=je;const Re=[{path:"/",name:"home",component:Ye}],Se=(0,H.p7)({history:(0,H.PO)("/"),routes:Re});var Ze=Se,qe=a(65),Fe=(0,qe.MT)({state:{currentPageTitle:"1205-20 от 01.01.2020",currentMonth:4,currentYear:2020,draggingEmpId:null,account:{name:'ООО "Технониколь"',userpic:"",cart:["Товар 1","Товар 2","Товар 3","Товар 4"]},records:[{date:new Date(2020,4,20),availableNum:50,recordsNum:50},{date:new Date(2020,4,22),availableNum:50,recordsNum:50},{date:new Date(2020,4,23),availableNum:50,recordsNum:50},{date:new Date(2020,4,24),availableNum:26,recordsNum:50},{date:new Date(2020,4,25),availableNum:50,recordsNum:50},{date:new Date(2020,4,26),availableNum:10,recordsNum:50},{date:new Date(2020,4,27),availableNum:50,recordsNum:50},{date:new Date(2020,4,28),availableNum:11,recordsNum:50},{date:new Date(2020,4,29),availableNum:50,recordsNum:50},{date:new Date(2020,4,30),availableNum:50,recordsNum:50}],employees:[{id:0,name:"Иванов Иван Иванович",department:"Отдел продаж",date:null},{id:1,name:"Иванов Иван Иванович",department:"Склад",date:null},{id:2,name:"Иванов Иван Иванович",department:"Отдел продаж",date:null},{id:3,name:"Иванов Иван Иванович",department:"Склад",date:null},{id:4,name:"Иванов Иван Иванович",department:"Отдел продаж",date:null},{id:5,name:"Иванов Иван Иванович",department:"Отдел продаж",date:null},{id:6,name:"Иванов Иван Иванович",department:"Склад",date:null},{id:7,name:"Иванов Иван Иванович",department:"Отдел продаж",date:null},{id:8,name:"Иванов Иван Иванович",department:"Бухгалтерия",date:null},{id:9,name:"Иванов Иван Иванович",department:"Отдел продаж",date:null},{id:10,name:"Иванов Иван Иванович",department:"Отдел продаж",date:null},{id:11,name:"Иванов Иван Иванович",department:"Отдел продаж",date:null},{id:12,name:"Иванов Иван Иванович",department:"Отдел продаж",date:null}]},getters:{departments(e){const t={};for(let a of e.employees)t[a.department]||(t[a.department]=[]),t[a.department].push(a);return t}},mutations:{setDraggingEmpId:(e,t)=>{e.draggingEmpId=t.empId},recordEmp(e,t){const a=new Date(e.currentYear,e.currentMonth,t.day);e.employees.find((t=>t.id===e.draggingEmpId)).date=a,e.records.find((e=>e.date-a===0)).availableNum--}},actions:{},modules:{}});(0,r.ri)(B).use(Fe).use(Ze).mount("#app")}},t={};function a(r){var n=t[r];if(void 0!==n)return n.exports;var s=t[r]={exports:{}};return e[r](s,s.exports,a),s.exports}a.m=e,function(){var e=[];a.O=function(t,r,n,s){if(!r){var l=1/0;for(i=0;i<e.length;i++){r=e[i][0],n=e[i][1],s=e[i][2];for(var d=!0,o=0;o<r.length;o++)(!1&s||l>=s)&&Object.keys(a.O).every((function(e){return a.O[e](r[o])}))?r.splice(o--,1):(d=!1,s<l&&(l=s));if(d){e.splice(i--,1);var c=n();void 0!==c&&(t=c)}}return t}s=s||0;for(var i=e.length;i>0&&e[i-1][2]>s;i--)e[i]=e[i-1];e[i]=[r,n,s]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var r in t)a.o(t,r)&&!a.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){a.p="/"}(),function(){var e={143:0};a.O.j=function(t){return 0===e[t]};var t=function(t,r){var n,s,l=r[0],d=r[1],o=r[2],c=0;if(l.some((function(t){return 0!==e[t]}))){for(n in d)a.o(d,n)&&(a.m[n]=d[n]);if(o)var i=o(a)}for(t&&t(r);c<l.length;c++)s=l[c],a.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return a.O(i)},r=self["webpackChunkinspectrum_test"]=self["webpackChunkinspectrum_test"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var r=a.O(void 0,[998],(function(){return a(5861)}));r=a.O(r)})();
//# sourceMappingURL=app.28eab333.js.map